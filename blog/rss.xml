<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>WeeboGitOps Blog</title>
        <link>https://batleforc.weebo.fr/WeeboGitOps/blog</link>
        <description>WeeboGitOps Blog</description>
        <lastBuildDate>Sat, 29 Jul 2023 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>fr</language>
        <item>
            <title><![CDATA[One year later]]></title>
            <link>https://batleforc.weebo.fr/WeeboGitOps/blog/one-year-later</link>
            <guid>https://batleforc.weebo.fr/WeeboGitOps/blog/one-year-later</guid>
            <pubDate>Sat, 29 Jul 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Well it's been a little more than a year since the last post. I've been busy with a lot of things and I didn't have the time to write anything. But I'm back and I will try to write more often. If you are reading this, thank you for your interest in my blog about the GitOps project. I hope you will find it useful.]]></description>
            <content:encoded><![CDATA[<p>Well it's been a little more than a year since the last post. I've been busy with a lot of things and I didn't have the time to write anything. But I'm back and I will try to write more often. If you are reading this, thank you for your interest in my blog about the GitOps project. I hope you will find it useful.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-new">What's new<a href="#whats-new" class="hash-link" aria-label="Lien direct vers What's new" title="Lien direct vers What's new">​</a></h2><p>hmmm... Everything ? In the past few day, i just graduated from my Master degree, and just got my first job out of studie.
This project never stopped, but i didn't have enough time to write about it.</p><p>The goal is stil the same, having a fully automated kubernetes cluster, with a GitOps approach. Will following some Good practice.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="auth-me-now">Auth me now<a href="#auth-me-now" class="hash-link" aria-label="Lien direct vers Auth me now" title="Lien direct vers Auth me now">​</a></h3><p>One of the most nerf wrecking change was to kick out the old auth system <a href="https://www.keycloak.org/" target="_blank" rel="noopener noreferrer">Keycloak</a> and replace it with <a href="https://zitadel.com/" target="_blank" rel="noopener noreferrer">Zitadel</a>.</p><p>Why the change ? Zitadel bring the hability to <a href="https://github.com/users/batleforc/projects/7/views/1?pane=issue&amp;itemId=34063201" target="_blank" rel="noopener noreferrer">fully automate</a> (except SAML) the auth process and to create each application with a terraform "CronJob".</p><p>The pros of automating the auth process is that you dont need to create each thing by hand, and you can easily create a new application with a simple terraform file. And you are sure that whats automated will be the source of truth thought time.</p><p>At the moment i didn't find any cons, except for the huge amout of ram that <a href="https://www.cockroachlabs.com/" target="_blank" rel="noopener noreferrer">CochroachDB</a> need to run when considering Keycloak use Postgresql. (The saml part is not a cons, it's just not implemented yet).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="automate-me">Automate me<a href="#automate-me" class="hash-link" aria-label="Lien direct vers Automate me" title="Lien direct vers Automate me">​</a></h3><p>With the new auth system, i was able to automate the oidc setup for each application. But by discovering Zitadel, i also discoverd <a href="https://www.terraform.io/" target="_blank" rel="noopener noreferrer">Terraform</a>.</p><p>It allow me to:</p><ul><li>Automate the oidc setup for each application (Grafana, Gitea, Harbor, WIP: Sonarqube, Oauth2Proxy, ...)</li><li>Automate Harbor (Project, Robot account, Configuration, ...)</li><li>Automate some simple step (creation of Kubeconfig)</li><li>Automate Sonarqube (WIP)</li><li>Automate Minio (WIP)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade">Upgrade<a href="#upgrade" class="hash-link" aria-label="Lien direct vers Upgrade" title="Lien direct vers Upgrade">​</a></h3><p>Well we need everything to be up to date, so i upgraded everything to the latest version available like</p><ul><li>Gitea (need to be done manually, because each upgrade break everything) (1.18 -&gt; 1.20)</li><li>Tekton (Just an upgrade of the CRD)</li><li>Harbor (automated)</li><li>Haproxy (0.14.2 -&gt; 0.14.4)</li><li>CertManager</li><li>Tempo (replace Jaeger because it's easier to use)</li><li>Flux (0.41.2 -&gt; 2.0.1)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="next-to-do">Next to do<a href="#next-to-do" class="hash-link" aria-label="Lien direct vers Next to do" title="Lien direct vers Next to do">​</a></h3><p>While i was upgrading everything it become obvious that i need to upgrade my use of Github. Then i moved from the old Github Dashboard to <a href="https://github.com/users/batleforc/projects/7/views/1" target="_blank" rel="noopener noreferrer">the new one</a>. Event if i wasn't writing the doc, i was still working on the project and updating the dashboard and issues.</p>]]></content:encoded>
            <category>docusaurus</category>
            <category>flux</category>
            <category>gitops</category>
            <category>daily</category>
        </item>
        <item>
            <title><![CDATA[Init Doc]]></title>
            <link>https://batleforc.weebo.fr/WeeboGitOps/blog/init-doc</link>
            <guid>https://batleforc.weebo.fr/WeeboGitOps/blog/init-doc</guid>
            <pubDate>Sun, 10 Jul 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Has of today this doc is being created in order to record why on how the GitOps paradigm is being used to manage the Weebo kubernetes cluster.]]></description>
            <content:encoded><![CDATA[<p>Has of today this doc is being created in order to record why on how the GitOps paradigm is being used to manage the Weebo kubernetes cluster.</p>]]></content:encoded>
            <category>init</category>
            <category>docusaurus</category>
        </item>
    </channel>
</rss>